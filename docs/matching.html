<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Matching | Notes on Causal Models</title>
  <meta name="description" content="This is a collection of notes from open sources" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Matching | Notes on Causal Models" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a collection of notes from open sources" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Matching | Notes on Causal Models" />
  
  <meta name="twitter:description" content="This is a collection of notes from open sources" />
  

<meta name="author" content="DEA" />


<meta name="date" content="2025-08-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="potential-outcomes.html"/>
<link rel="next" href="task-four-create-sample-distribution-using-bootsrapping.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Causal Model Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Acknowledgement</a></li>
<li class="chapter" data-level="1" data-path="concepts.html"><a href="concepts.html"><i class="fa fa-check"></i><b>1</b> Concepts</a>
<ul>
<li class="chapter" data-level="1.1" data-path="concepts.html"><a href="concepts.html#goodness-of-fit"><i class="fa fa-check"></i><b>1.1</b> Goodness of Fit</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="concepts.html"><a href="concepts.html#r-squared-r2"><i class="fa fa-check"></i><b>1.1.1</b> R-squared (<span class="math inline">\(R^2\)</span>)</a></li>
<li class="chapter" data-level="1.1.2" data-path="concepts.html"><a href="concepts.html#adjusted-r-squared"><i class="fa fa-check"></i><b>1.1.2</b> Adjusted R-squared</a></li>
<li class="chapter" data-level="1.1.3" data-path="concepts.html"><a href="concepts.html#root-mean-squared-error-rmse-mean-absolute-error-mae"><i class="fa fa-check"></i><b>1.1.3</b> Root Mean Squared Error (RMSE) / Mean Absolute Error (MAE)</a></li>
<li class="chapter" data-level="1.1.4" data-path="concepts.html"><a href="concepts.html#aic-bic-information-criteria"><i class="fa fa-check"></i><b>1.1.4</b> AIC / BIC (Information Criteria)</a></li>
<li class="chapter" data-level="1.1.5" data-path="concepts.html"><a href="concepts.html#f-statistics-and-joint-significance-tests"><i class="fa fa-check"></i><b>1.1.5</b> F-statistics and Joint Significance Tests</a></li>
<li class="chapter" data-level="1.1.6" data-path="concepts.html"><a href="concepts.html#balance-checks-causal-context"><i class="fa fa-check"></i><b>1.1.6</b> Balance Checks (Causal Context)</a></li>
<li class="chapter" data-level="1.1.7" data-path="concepts.html"><a href="concepts.html#key-distinction-prediction-vs.-causality"><i class="fa fa-check"></i><b>1.1.7</b> Key Distinction: Prediction vs. Causality</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="concepts.html"><a href="concepts.html#validation-methods"><i class="fa fa-check"></i><b>1.2</b> Validation Methods</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="concepts.html"><a href="concepts.html#internal-validity"><i class="fa fa-check"></i><b>1.2.1</b> Internal Validity</a></li>
<li class="chapter" data-level="1.2.2" data-path="concepts.html"><a href="concepts.html#external-validity"><i class="fa fa-check"></i><b>1.2.2</b> External Validity</a></li>
<li class="chapter" data-level="1.2.3" data-path="concepts.html"><a href="concepts.html#robustness-checks"><i class="fa fa-check"></i><b>1.2.3</b> Robustness Checks</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="concepts.html"><a href="concepts.html#directed-acyclic-graphs-dags"><i class="fa fa-check"></i><b>1.3</b> Directed Acyclic Graphs (DAGs)</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="concepts.html"><a href="concepts.html#confounder"><i class="fa fa-check"></i><b>1.3.1</b> Confounder</a></li>
<li class="chapter" data-level="1.3.2" data-path="concepts.html"><a href="concepts.html#collider"><i class="fa fa-check"></i><b>1.3.2</b> Collider</a></li>
<li class="chapter" data-level="1.3.3" data-path="concepts.html"><a href="concepts.html#what-to-do-and-how-to-do-it"><i class="fa fa-check"></i><b>1.3.3</b> What To Do and How To Do It</a></li>
<li class="chapter" data-level="1.3.4" data-path="concepts.html"><a href="concepts.html#example-sample-selection-and-collider-bias"><i class="fa fa-check"></i><b>1.3.4</b> Example: Sample Selection and collider bias</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="concepts.html"><a href="concepts.html#bad-controls"><i class="fa fa-check"></i><b>1.4</b> Bad Controls</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="concepts.html"><a href="concepts.html#definition"><i class="fa fa-check"></i><b>1.4.1</b> Definition</a></li>
<li class="chapter" data-level="1.4.2" data-path="concepts.html"><a href="concepts.html#why-theyre-problematic"><i class="fa fa-check"></i><b>1.4.2</b> Why They’re Problematic</a></li>
<li class="chapter" data-level="1.4.3" data-path="concepts.html"><a href="concepts.html#examples"><i class="fa fa-check"></i><b>1.4.3</b> Examples</a></li>
<li class="chapter" data-level="1.4.4" data-path="concepts.html"><a href="concepts.html#identifying-good-vs.-bad-controls"><i class="fa fa-check"></i><b>1.4.4</b> Identifying Good vs. Bad Controls</a></li>
<li class="chapter" data-level="1.4.5" data-path="concepts.html"><a href="concepts.html#best-practices"><i class="fa fa-check"></i><b>1.4.5</b> Best Practices</a></li>
<li class="chapter" data-level="1.4.6" data-path="concepts.html"><a href="concepts.html#practical-advice"><i class="fa fa-check"></i><b>1.4.6</b> Practical Advice</a></li>
<li class="chapter" data-level="1.4.7" data-path="concepts.html"><a href="concepts.html#unobserved-variable-affecting-only-the-dependent-variable"><i class="fa fa-check"></i><b>1.4.7</b> Unobserved Variable Affecting Only the Dependent Variable</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="concepts.html"><a href="concepts.html#endogeneity"><i class="fa fa-check"></i><b>1.5</b> Endogeneity</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="concepts.html"><a href="concepts.html#sources-of-endogeneity"><i class="fa fa-check"></i><b>1.5.1</b> Sources of Endogeneity</a></li>
<li class="chapter" data-level="1.5.2" data-path="concepts.html"><a href="concepts.html#consequences"><i class="fa fa-check"></i><b>1.5.2</b> Consequences</a></li>
<li class="chapter" data-level="1.5.3" data-path="concepts.html"><a href="concepts.html#solutions"><i class="fa fa-check"></i><b>1.5.3</b> Solutions</a></li>
<li class="chapter" data-level="1.5.4" data-path="concepts.html"><a href="concepts.html#summary-1"><i class="fa fa-check"></i><b>1.5.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="concepts.html"><a href="concepts.html#reduced-form-model"><i class="fa fa-check"></i><b>1.6</b> Reduced Form Model</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="concepts.html"><a href="concepts.html#characteristics-of-reduced-form-models"><i class="fa fa-check"></i><b>1.6.1</b> Characteristics of Reduced Form Models:</a></li>
<li class="chapter" data-level="1.6.2" data-path="concepts.html"><a href="concepts.html#uses-of-reduced-form-models"><i class="fa fa-check"></i><b>1.6.2</b> Uses of Reduced Form Models:</a></li>
<li class="chapter" data-level="1.6.3" data-path="concepts.html"><a href="concepts.html#example-of-a-reduced-form-model"><i class="fa fa-check"></i><b>1.6.3</b> Example of a Reduced Form Model:</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="concepts.html"><a href="concepts.html#standard-errors"><i class="fa fa-check"></i><b>1.7</b> Standard Errors</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="concepts.html"><a href="concepts.html#heteroskedasticity-consistent-standard-errors"><i class="fa fa-check"></i><b>1.7.1</b> heteroskedasticity-consistent standard errors</a></li>
<li class="chapter" data-level="1.7.2" data-path="concepts.html"><a href="concepts.html#why-use-sandwich-standard-errors"><i class="fa fa-check"></i><b>1.7.2</b> Why Use Sandwich Standard Errors?</a></li>
<li class="chapter" data-level="1.7.3" data-path="concepts.html"><a href="concepts.html#clustering-standard-errors"><i class="fa fa-check"></i><b>1.7.3</b> Clustering Standard Errors</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="concepts.html"><a href="concepts.html#types-of-biases-in-econometrics-statistics"><i class="fa fa-check"></i><b>1.8</b> Types of Biases in Econometrics &amp; Statistics</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="concepts.html"><a href="concepts.html#sample-selection-biases"><i class="fa fa-check"></i><b>1.8.1</b> Sample &amp; Selection Biases</a></li>
<li class="chapter" data-level="1.8.2" data-path="concepts.html"><a href="concepts.html#specification-confounding-biases"><i class="fa fa-check"></i><b>1.8.2</b> Specification &amp; Confounding Biases</a></li>
<li class="chapter" data-level="1.8.3" data-path="concepts.html"><a href="concepts.html#measurement-response-biases"><i class="fa fa-check"></i><b>1.8.3</b> Measurement &amp; Response Biases</a></li>
<li class="chapter" data-level="1.8.4" data-path="concepts.html"><a href="concepts.html#analytical-reporting-biases"><i class="fa fa-check"></i><b>1.8.4</b> Analytical &amp; Reporting Biases</a></li>
<li class="chapter" data-level="1.8.5" data-path="concepts.html"><a href="concepts.html#addressing-bias"><i class="fa fa-check"></i><b>1.8.5</b> Addressing Bias</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="concepts.html"><a href="concepts.html#causality"><i class="fa fa-check"></i><b>1.9</b> Causality</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="concepts.html"><a href="concepts.html#counterfactual-potential-outcomes-definition"><i class="fa fa-check"></i><b>1.9.1</b> Counterfactual (Potential Outcomes) Definition</a></li>
<li class="chapter" data-level="1.9.2" data-path="concepts.html"><a href="concepts.html#causal-graphs-structural-causal-models-dags"><i class="fa fa-check"></i><b>1.9.2</b> Causal Graphs (Structural Causal Models / DAGs)</a></li>
<li class="chapter" data-level="1.9.3" data-path="concepts.html"><a href="concepts.html#experimental-interventionist-definition"><i class="fa fa-check"></i><b>1.9.3</b> Experimental (Interventionist) Definition</a></li>
<li class="chapter" data-level="1.9.4" data-path="concepts.html"><a href="concepts.html#econometric-definition"><i class="fa fa-check"></i><b>1.9.4</b> Econometric Definition</a></li>
<li class="chapter" data-level="1.9.5" data-path="concepts.html"><a href="concepts.html#philosophical-humean-regularity-definition"><i class="fa fa-check"></i><b>1.9.5</b> Philosophical (Humean / Regularity) Definition</a></li>
<li class="chapter" data-level="1.9.6" data-path="concepts.html"><a href="concepts.html#granger-causality-time-series"><i class="fa fa-check"></i><b>1.9.6</b> Granger Causality (Time Series)</a></li>
<li class="chapter" data-level="1.9.7" data-path="concepts.html"><a href="concepts.html#summary-table"><i class="fa fa-check"></i><b>1.9.7</b> Summary Table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="potential-outcomes.html"><a href="potential-outcomes.html"><i class="fa fa-check"></i><b>2</b> Potential Outcomes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="potential-outcomes.html"><a href="potential-outcomes.html#key-concepts"><i class="fa fa-check"></i><b>2.1</b> Key Concepts</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="potential-outcomes.html"><a href="potential-outcomes.html#causal-effect"><i class="fa fa-check"></i><b>2.1.1</b> Causal Effect</a></li>
<li class="chapter" data-level="2.1.2" data-path="potential-outcomes.html"><a href="potential-outcomes.html#average-treatment-effect-ate"><i class="fa fa-check"></i><b>2.1.2</b> Average Treatment Effect (ATE)</a></li>
<li class="chapter" data-level="2.1.3" data-path="potential-outcomes.html"><a href="potential-outcomes.html#average-treatment-effect-on-the-treated-att"><i class="fa fa-check"></i><b>2.1.3</b> Average Treatment Effect on the Treated (ATT)</a></li>
<li class="chapter" data-level="2.1.4" data-path="potential-outcomes.html"><a href="potential-outcomes.html#the-fundamental-problem-of-causal-inference"><i class="fa fa-check"></i><b>2.1.4</b> The Fundamental Problem of Causal Inference</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="potential-outcomes.html"><a href="potential-outcomes.html#assumptions-for-identifying-causal-effects"><i class="fa fa-check"></i><b>2.2</b> Assumptions for Identifying Causal Effects</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="potential-outcomes.html"><a href="potential-outcomes.html#independence"><i class="fa fa-check"></i><b>2.2.1</b> <strong>Independence</strong></a></li>
<li class="chapter" data-level="2.2.2" data-path="potential-outcomes.html"><a href="potential-outcomes.html#stable-unit-treatment-value-assumption-sutva"><i class="fa fa-check"></i><b>2.2.2</b> Stable Unit Treatment Value Assumption (SUTVA)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="potential-outcomes.html"><a href="potential-outcomes.html#methods-for-estimating-causal-effects"><i class="fa fa-check"></i><b>2.3</b> Methods for Estimating Causal Effects</a></li>
<li class="chapter" data-level="2.4" data-path="potential-outcomes.html"><a href="potential-outcomes.html#example"><i class="fa fa-check"></i><b>2.4</b> Example</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="potential-outcomes.html"><a href="potential-outcomes.html#simple-difference-method"><i class="fa fa-check"></i><b>2.4.1</b> Simple Difference Method</a></li>
<li class="chapter" data-level="2.4.2" data-path="potential-outcomes.html"><a href="potential-outcomes.html#conclusion"><i class="fa fa-check"></i><b>2.4.2</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="potential-outcomes.html"><a href="potential-outcomes.html#on-how-parameters-are-calculated"><i class="fa fa-check"></i><b>2.5</b> On how parameters are calculated</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="potential-outcomes.html"><a href="potential-outcomes.html#propensity-score-matching-psm-and-maximum-likelihood-estimation-mle"><i class="fa fa-check"></i><b>2.5.1</b> Propensity Score Matching (PSM) and Maximum Likelihood Estimation (MLE)</a></li>
<li class="chapter" data-level="2.5.2" data-path="potential-outcomes.html"><a href="potential-outcomes.html#logistic-regression"><i class="fa fa-check"></i><b>2.5.2</b> Logistic Regression</a></li>
<li class="chapter" data-level="2.5.3" data-path="potential-outcomes.html"><a href="potential-outcomes.html#ordinary-least-squares-ols-regression"><i class="fa fa-check"></i><b>2.5.3</b> Ordinary Least Squares (OLS) Regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="matching.html"><a href="matching.html"><i class="fa fa-check"></i><b>3</b> Matching</a>
<ul>
<li class="chapter" data-level="3.1" data-path="matching.html"><a href="matching.html#subclassification"><i class="fa fa-check"></i><b>3.1</b> Subclassification</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="matching.html"><a href="matching.html#example-2"><i class="fa fa-check"></i><b>3.1.1</b> Example</a></li>
<li class="chapter" data-level="3.1.2" data-path="matching.html"><a href="matching.html#step-by-step-example"><i class="fa fa-check"></i><b>3.1.2</b> Step-by-Step Example</a></li>
<li class="chapter" data-level="3.1.3" data-path="matching.html"><a href="matching.html#considerations"><i class="fa fa-check"></i><b>3.1.3</b> Considerations</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="matching.html"><a href="matching.html#exact-matching"><i class="fa fa-check"></i><b>3.2</b> Exact Matching</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="matching.html"><a href="matching.html#explanation"><i class="fa fa-check"></i><b>3.2.1</b> Explanation</a></li>
<li class="chapter" data-level="3.2.2" data-path="matching.html"><a href="matching.html#example-3"><i class="fa fa-check"></i><b>3.2.2</b> Example</a></li>
<li class="chapter" data-level="3.2.3" data-path="matching.html"><a href="matching.html#conclusion-1"><i class="fa fa-check"></i><b>3.2.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="matching.html"><a href="matching.html#approximate-matching-methods"><i class="fa fa-check"></i><b>3.3</b> Approximate Matching Methods</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="matching.html"><a href="matching.html#nearest-neighbor-covariate-matching"><i class="fa fa-check"></i><b>3.3.1</b> Nearest Neighbor Covariate Matching</a></li>
<li class="chapter" data-level="3.3.2" data-path="matching.html"><a href="matching.html#example-4"><i class="fa fa-check"></i><b>3.3.2</b> Example</a></li>
<li class="chapter" data-level="3.3.3" data-path="matching.html"><a href="matching.html#hypothetical-data"><i class="fa fa-check"></i><b>3.3.3</b> Hypothetical Data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="matching.html"><a href="matching.html#propensity-score-methods"><i class="fa fa-check"></i><b>3.4</b> Propensity Score Methods</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="matching.html"><a href="matching.html#concept"><i class="fa fa-check"></i><b>3.4.1</b> Concept</a></li>
<li class="chapter" data-level="3.4.2" data-path="matching.html"><a href="matching.html#steps"><i class="fa fa-check"></i><b>3.4.2</b> Steps</a></li>
<li class="chapter" data-level="3.4.3" data-path="matching.html"><a href="matching.html#example-5"><i class="fa fa-check"></i><b>3.4.3</b> Example</a></li>
<li class="chapter" data-level="3.4.4" data-path="matching.html"><a href="matching.html#assumptions-and-considerations"><i class="fa fa-check"></i><b>3.4.4</b> Assumptions and Considerations</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="matching.html"><a href="matching.html#inverse-probability-weighting-weighting-on-the-propensity-score"><i class="fa fa-check"></i><b>3.5</b> Inverse Probability Weighting (Weighting on the propensity score)</a></li>
<li class="chapter" data-level="3.6" data-path="matching.html"><a href="matching.html#nearest-neighbor-matching"><i class="fa fa-check"></i><b>3.6</b> Nearest-neighbor matching</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="matching.html"><a href="matching.html#example-in-r"><i class="fa fa-check"></i><b>3.6.1</b> Example in R</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="matching.html"><a href="matching.html#coarsened-exact-matching"><i class="fa fa-check"></i><b>3.7</b> Coarsened Exact Matching</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="matching.html"><a href="matching.html#example-6"><i class="fa fa-check"></i><b>3.7.1</b> Example</a></li>
<li class="chapter" data-level="3.7.2" data-path="matching.html"><a href="matching.html#steps-in-coarsened-exact-matching"><i class="fa fa-check"></i><b>3.7.2</b> Steps in Coarsened Exact Matching</a></li>
<li class="chapter" data-level="3.7.3" data-path="matching.html"><a href="matching.html#considerations-1"><i class="fa fa-check"></i><b>3.7.3</b> Considerations</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="matching.html"><a href="matching.html#ab-test-article-from-medium"><i class="fa fa-check"></i><b>3.8</b> A/B Test article from Medium</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="matching.html"><a href="matching.html#example-conversion-rate-of-an-e-commerce-website"><i class="fa fa-check"></i><b>3.8.1</b> Example: Conversion Rate of an E-Commerce Website</a></li>
<li class="chapter" data-level="3.8.2" data-path="matching.html"><a href="matching.html#example-ab-test"><i class="fa fa-check"></i><b>3.8.2</b> Example: A/B Test</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="matching.html"><a href="matching.html#task-1-load-the-data"><i class="fa fa-check"></i><b>3.9</b> Task 1: Load the data</a></li>
<li class="chapter" data-level="3.10" data-path="matching.html"><a href="matching.html#task-2-set-up-hypothesis"><i class="fa fa-check"></i><b>3.10</b> Task 2: Set up Hypothesis</a></li>
<li class="chapter" data-level="3.11" data-path="matching.html"><a href="matching.html#task-3-compute-the-difference-in-the-click-through-rate"><i class="fa fa-check"></i><b>3.11</b> Task 3: Compute the difference in the click-through rate</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="task-four-create-sample-distribution-using-bootsrapping.html"><a href="task-four-create-sample-distribution-using-bootsrapping.html"><i class="fa fa-check"></i><b>4</b> Task four : create sample distribution using bootsrapping</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="task-four-create-sample-distribution-using-bootsrapping.html"><a href="task-four-create-sample-distribution-using-bootsrapping.html#bootstrapping"><i class="fa fa-check"></i><b>4.0.1</b> Bootstrapping :</a></li>
<li class="chapter" data-level="4.0.2" data-path="task-four-create-sample-distribution-using-bootsrapping.html"><a href="task-four-create-sample-distribution-using-bootsrapping.html#example-7"><i class="fa fa-check"></i><b>4.0.2</b> Example :</a></li>
<li class="chapter" data-level="4.1" data-path="task-four-create-sample-distribution-using-bootsrapping.html"><a href="task-four-create-sample-distribution-using-bootsrapping.html#task-five-evaluate-the-null-hypothesis-and-draw-conclustions."><i class="fa fa-check"></i><b>4.1</b> Task five : Evaluate the null hypothesis and draw conclustions.</a></li>
<li class="chapter" data-level="4.2" data-path="task-four-create-sample-distribution-using-bootsrapping.html"><a href="task-four-create-sample-distribution-using-bootsrapping.html#alternative-random-sampling-code"><i class="fa fa-check"></i><b>4.2</b> alternative random sampling code</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ab-testing.html"><a href="ab-testing.html"><i class="fa fa-check"></i><b>5</b> AB Testing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ab-testing.html"><a href="ab-testing.html#sources"><i class="fa fa-check"></i><b>5.1</b> Sources</a></li>
<li class="chapter" data-level="5.2" data-path="ab-testing.html"><a href="ab-testing.html#concepts-1"><i class="fa fa-check"></i><b>5.2</b> Concepts</a></li>
<li class="chapter" data-level="5.3" data-path="ab-testing.html"><a href="ab-testing.html#ai-summary"><i class="fa fa-check"></i><b>5.3</b> AI Summary</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="ab-testing.html"><a href="ab-testing.html#ab-testing-randomized-controlled-trials"><i class="fa fa-check"></i><b>5.3.1</b> A/B Testing (Randomized Controlled Trials)</a></li>
<li class="chapter" data-level="5.3.2" data-path="ab-testing.html"><a href="ab-testing.html#concepts-2"><i class="fa fa-check"></i><b>5.3.2</b> Concepts:</a></li>
<li class="chapter" data-level="5.3.3" data-path="ab-testing.html"><a href="ab-testing.html#comparison-and-usage"><i class="fa fa-check"></i><b>5.3.3</b> Comparison and Usage</a></li>
<li class="chapter" data-level="5.3.4" data-path="ab-testing.html"><a href="ab-testing.html#significance"><i class="fa fa-check"></i><b>5.3.4</b> Significance</a></li>
<li class="chapter" data-level="5.3.5" data-path="ab-testing.html"><a href="ab-testing.html#group-size"><i class="fa fa-check"></i><b>5.3.5</b> Group Size</a></li>
<li class="chapter" data-level="5.3.6" data-path="ab-testing.html"><a href="ab-testing.html#relationship-between-effect-size-significance-and-group-size"><i class="fa fa-check"></i><b>5.3.6</b> Relationship Between Effect Size, Significance, and Group Size</a></li>
<li class="chapter" data-level="5.3.7" data-path="ab-testing.html"><a href="ab-testing.html#conclusion-2"><i class="fa fa-check"></i><b>5.3.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="ab-testing.html"><a href="ab-testing.html#size-of-the-control-group"><i class="fa fa-check"></i><b>5.4</b> Size of the Control Group</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="ab-testing.html"><a href="ab-testing.html#sample-size-calculation-formula"><i class="fa fa-check"></i><b>5.4.1</b> Sample Size Calculation Formula</a></li>
<li class="chapter" data-level="5.4.2" data-path="ab-testing.html"><a href="ab-testing.html#conclusion-3"><i class="fa fa-check"></i><b>5.4.2</b> Conclusion</a></li>
<li class="chapter" data-level="5.4.3" data-path="ab-testing.html"><a href="ab-testing.html#statistical-assumptions-for-randomized-controlled-trials-rcts"><i class="fa fa-check"></i><b>5.4.3</b> Statistical Assumptions for Randomized Controlled Trials (RCTs)</a></li>
<li class="chapter" data-level="5.4.4" data-path="ab-testing.html"><a href="ab-testing.html#robustness-checks-1"><i class="fa fa-check"></i><b>5.4.4</b> Robustness Checks</a></li>
<li class="chapter" data-level="5.4.5" data-path="ab-testing.html"><a href="ab-testing.html#validation-methods-1"><i class="fa fa-check"></i><b>5.4.5</b> Validation Methods</a></li>
<li class="chapter" data-level="5.4.6" data-path="ab-testing.html"><a href="ab-testing.html#conclusion-4"><i class="fa fa-check"></i><b>5.4.6</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html"><i class="fa fa-check"></i><b>6</b> Difference-in-Differences (DiD) Methods</a>
<ul>
<li class="chapter" data-level="6.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#simple-difference-in-differences-did"><i class="fa fa-check"></i><b>6.1</b> Simple Difference-in-Differences (DiD)</a></li>
<li class="chapter" data-level="6.2" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#controversial-note"><i class="fa fa-check"></i><b>6.2</b> Controversial Note</a></li>
<li class="chapter" data-level="6.3" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#placebo-tests-for-parallel-trends"><i class="fa fa-check"></i><b>6.3</b> Placebo tests for parallel trends</a></li>
<li class="chapter" data-level="6.4" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#two-way-fixed-effects-model"><i class="fa fa-check"></i><b>6.4</b> Two-Way Fixed Effects Model</a></li>
<li class="chapter" data-level="6.5" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#event-study-methods"><i class="fa fa-check"></i><b>6.5</b> Event Study Methods</a></li>
<li class="chapter" data-level="6.6" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#importance-of-placebos-in-dd"><i class="fa fa-check"></i><b>6.6</b> Importance of Placebos in DD</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#triple-differences"><i class="fa fa-check"></i><b>6.6.1</b> Triple Differences</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#compositional-changes"><i class="fa fa-check"></i><b>6.7</b> Compositional Changes</a></li>
<li class="chapter" data-level="6.8" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#key-assumptions"><i class="fa fa-check"></i><b>6.8</b> Key Assumptions</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#implementation-steps"><i class="fa fa-check"></i><b>6.8.1</b> Implementation Steps</a></li>
<li class="chapter" data-level="6.8.2" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#advantages"><i class="fa fa-check"></i><b>6.8.2</b> Advantages</a></li>
<li class="chapter" data-level="6.8.3" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#limitations-1"><i class="fa fa-check"></i><b>6.8.3</b> Limitations</a></li>
<li class="chapter" data-level="6.8.4" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#q-how-would-you-test-the-parallel-trends-assumption"><i class="fa fa-check"></i><b>6.8.4</b> Q: How would you test the parallel trends assumption?</a></li>
<li class="chapter" data-level="6.8.5" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#q-how-would-you-address-potential-violations-of-the-parallel-trends-assumption"><i class="fa fa-check"></i><b>6.8.5</b> Q: How would you address potential violations of the parallel trends assumption?</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#notes"><i class="fa fa-check"></i><b>6.9</b> Notes</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#example-business"><i class="fa fa-check"></i><b>6.9.1</b> Example: Business</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#extra-considerations"><i class="fa fa-check"></i><b>6.10</b> Extra Considerations</a></li>
<li class="chapter" data-level="6.11" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#synthetic-difference-in-differences-synthdid-method"><i class="fa fa-check"></i><b>6.11</b> Synthetic Difference-in-Differences (SynthDiD) method</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#introduction"><i class="fa fa-check"></i><b>6.11.1</b> Introduction</a></li>
<li class="chapter" data-level="6.11.2" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#what-problem-it-solves"><i class="fa fa-check"></i><b>6.11.2</b> What problem it solves</a></li>
<li class="chapter" data-level="6.11.3" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#how-it-works-intuition"><i class="fa fa-check"></i><b>6.11.3</b> How it works (intuition)</a></li>
<li class="chapter" data-level="6.11.4" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#how-it-differs-from-related-methods"><i class="fa fa-check"></i><b>6.11.4</b> How it differs from related methods</a></li>
<li class="chapter" data-level="6.11.5" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#when-to-use"><i class="fa fa-check"></i><b>6.11.5</b> When to use</a></li>
<li class="chapter" data-level="6.11.6" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#assumptions-why-its-appealing"><i class="fa fa-check"></i><b>6.11.6</b> Assumptions (why it’s appealing)</a></li>
<li class="chapter" data-level="6.11.7" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#inference-diagnostics"><i class="fa fa-check"></i><b>6.11.7</b> Inference &amp; diagnostics</a></li>
<li class="chapter" data-level="6.11.8" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#pros-cons"><i class="fa fa-check"></i><b>6.11.8</b> Pros / Cons</a></li>
<li class="chapter" data-level="6.11.9" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#tldr-contrast"><i class="fa fa-check"></i><b>6.11.9</b> TL;DR (contrast)</a></li>
<li class="chapter" data-level="6.11.10" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#an-example"><i class="fa fa-check"></i><b>6.11.10</b> An Example:</a></li>
<li class="chapter" data-level="6.11.11" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#conclusion-5"><i class="fa fa-check"></i><b>6.11.11</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#doubly-robust-difference-in-differences"><i class="fa fa-check"></i><b>6.12</b> Doubly Robust Difference in Differences</a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#details"><i class="fa fa-check"></i><b>6.12.1</b> Details</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#twoway-fixed-effects-with-differential-timing"><i class="fa fa-check"></i><b>6.13</b> Twoway Fixed Effects with Differential Timing</a></li>
<li class="chapter" data-level="6.14" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#bacon-decomposition"><i class="fa fa-check"></i><b>6.14</b> Bacon Decomposition</a>
<ul>
<li class="chapter" data-level="6.14.1" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#overview"><i class="fa fa-check"></i><b>6.14.1</b> Overview</a></li>
<li class="chapter" data-level="6.14.2" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#key-concepts-3"><i class="fa fa-check"></i><b>6.14.2</b> Key Concepts</a></li>
<li class="chapter" data-level="6.14.3" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#components-of-bacon-decomposition"><i class="fa fa-check"></i><b>6.14.3</b> Components of Bacon Decomposition</a></li>
<li class="chapter" data-level="6.14.4" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#formula-for-decomposition"><i class="fa fa-check"></i><b>6.14.4</b> Formula for Decomposition</a></li>
<li class="chapter" data-level="6.14.5" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#implications-and-interpretation"><i class="fa fa-check"></i><b>6.14.5</b> Implications and Interpretation</a></li>
<li class="chapter" data-level="6.14.6" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#example-8"><i class="fa fa-check"></i><b>6.14.6</b> Example</a></li>
<li class="chapter" data-level="6.14.7" data-path="difference-in-differences-did-methods.html"><a href="difference-in-differences-did-methods.html#conclusion-6"><i class="fa fa-check"></i><b>6.14.7</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html"><i class="fa fa-check"></i><b>7</b> Synthetic Control Method (SCM)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#ai-summary-1"><i class="fa fa-check"></i><b>7.1</b> AI Summary</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#synthetic-control-method-scm-1"><i class="fa fa-check"></i><b>7.1.1</b> Synthetic Control Method (SCM)</a></li>
<li class="chapter" data-level="7.1.2" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#placebo-tests"><i class="fa fa-check"></i><b>7.1.2</b> Placebo tests</a></li>
<li class="chapter" data-level="7.1.3" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#leave-one-out-cross-validation"><i class="fa fa-check"></i><b>7.1.3</b> Leave-One-Out Cross-Validation</a></li>
<li class="chapter" data-level="7.1.4" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#detailed-example"><i class="fa fa-check"></i><b>7.1.4</b> Detailed Example</a></li>
<li class="chapter" data-level="7.1.5" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#conclusion-8"><i class="fa fa-check"></i><b>7.1.5</b> Conclusion</a></li>
<li class="chapter" data-level="7.1.6" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#data"><i class="fa fa-check"></i><b>7.1.6</b> Data</a></li>
<li class="chapter" data-level="7.1.7" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#data-setting"><i class="fa fa-check"></i><b>7.1.7</b> Data Setting</a></li>
<li class="chapter" data-level="7.1.8" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#requirements-for-synthetic-control-method"><i class="fa fa-check"></i><b>7.1.8</b> Requirements for Synthetic Control Method</a></li>
<li class="chapter" data-level="7.1.9" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#data-requirements-summary"><i class="fa fa-check"></i><b>7.1.9</b> Data Requirements Summary</a></li>
<li class="chapter" data-level="7.1.10" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#practical-considerations"><i class="fa fa-check"></i><b>7.1.10</b> Practical Considerations</a></li>
<li class="chapter" data-level="7.1.11" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#example-11"><i class="fa fa-check"></i><b>7.1.11</b> Example</a></li>
<li class="chapter" data-level="7.1.12" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#conclusion-9"><i class="fa fa-check"></i><b>7.1.12</b> Conclusion</a></li>
<li class="chapter" data-level="7.1.13" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#synthetic-did"><i class="fa fa-check"></i><b>7.1.13</b> Synthetic DID</a></li>
<li class="chapter" data-level="7.1.14" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#robustness-checks-3"><i class="fa fa-check"></i><b>7.1.14</b> Robustness Checks</a></li>
<li class="chapter" data-level="7.1.15" data-path="synthetic-control-method-scm.html"><a href="synthetic-control-method-scm.html#validation-methods-3"><i class="fa fa-check"></i><b>7.1.15</b> Validation Methods</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html"><i class="fa fa-check"></i><b>8</b> Instrumental Variables (IV)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#key-concepts-4"><i class="fa fa-check"></i><b>8.1</b> Key Concepts</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#requirements-for-a-valid-instrument"><i class="fa fa-check"></i><b>8.1.1</b> Requirements for a Valid Instrument</a></li>
<li class="chapter" data-level="8.1.2" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#the-iv-estimation-process"><i class="fa fa-check"></i><b>8.1.2</b> The IV Estimation Process</a></li>
<li class="chapter" data-level="8.1.3" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#example-12"><i class="fa fa-check"></i><b>8.1.3</b> Example</a></li>
<li class="chapter" data-level="8.1.4" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#assumptions-and-considerations-1"><i class="fa fa-check"></i><b>8.1.4</b> Assumptions and Considerations</a></li>
<li class="chapter" data-level="8.1.5" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#advantages-of-iv"><i class="fa fa-check"></i><b>8.1.5</b> Advantages of IV</a></li>
<li class="chapter" data-level="8.1.6" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#disadvantages-of-iv"><i class="fa fa-check"></i><b>8.1.6</b> Disadvantages of IV</a></li>
<li class="chapter" data-level="8.1.7" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#conclusion-10"><i class="fa fa-check"></i><b>8.1.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#difference-between-instrumental-variable-iv-method-and-two-stage-least-squares-2sls-method"><i class="fa fa-check"></i><b>8.2</b> Difference Between Instrumental Variable (IV) Method and Two-Stage Least Squares (2SLS) Method</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#instrumental-variable-iv-method"><i class="fa fa-check"></i><b>8.2.1</b> Instrumental Variable (IV) Method</a></li>
<li class="chapter" data-level="8.2.2" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#two-stage-least-squares-2sls-method"><i class="fa fa-check"></i><b>8.2.2</b> Two-Stage Least Squares (2SLS) Method</a></li>
<li class="chapter" data-level="8.2.3" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#summary-of-differences"><i class="fa fa-check"></i><b>8.2.3</b> Summary of Differences:</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#homogenous-treatment-effect"><i class="fa fa-check"></i><b>8.3</b> Homogenous Treatment Effect</a></li>
<li class="chapter" data-level="8.4" data-path="instrumental-variables-iv.html"><a href="instrumental-variables-iv.html#heterogenous-treatment-effect"><i class="fa fa-check"></i><b>8.4</b> Heterogenous Treatment Effect</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html"><i class="fa fa-check"></i><b>9</b> Regression Discontinuity Designs (RDD)</a>
<ul>
<li class="chapter" data-level="9.0.1" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#validation-and-falsification"><i class="fa fa-check"></i><b>9.0.1</b> Validation and Falsification</a></li>
<li class="chapter" data-level="9.1" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#regression-discontinuity-designs-rdd-1"><i class="fa fa-check"></i><b>9.1</b> Regression Discontinuity Designs (RDD)</a></li>
<li class="chapter" data-level="9.2" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#key-concepts-5"><i class="fa fa-check"></i><b>9.2</b> Key Concepts</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#types-of-rdd"><i class="fa fa-check"></i><b>9.2.1</b> Types of RDD</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#sharp-rdd"><i class="fa fa-check"></i><b>9.3</b> Sharp RDD</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#key-concepts-6"><i class="fa fa-check"></i><b>9.3.1</b> Key Concepts</a></li>
<li class="chapter" data-level="9.3.2" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#assumptions-for-rdd"><i class="fa fa-check"></i><b>9.3.2</b> Assumptions for RDD</a></li>
<li class="chapter" data-level="9.3.3" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#estimation-in-sharp-rdd"><i class="fa fa-check"></i><b>9.3.3</b> Estimation in Sharp RDD</a></li>
<li class="chapter" data-level="9.3.4" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#fuzzy-rdd"><i class="fa fa-check"></i><b>9.3.4</b> Fuzzy RDD</a></li>
<li class="chapter" data-level="9.3.5" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#parametric-vs.-non-parametric-applications"><i class="fa fa-check"></i><b>9.3.5</b> Parametric vs. Non-Parametric Applications</a></li>
<li class="chapter" data-level="9.3.6" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#example-13"><i class="fa fa-check"></i><b>9.3.6</b> Example</a></li>
<li class="chapter" data-level="9.3.7" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#summary-3"><i class="fa fa-check"></i><b>9.3.7</b> Summary</a></li>
<li class="chapter" data-level="9.3.8" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#challenges-to-identification"><i class="fa fa-check"></i><b>9.3.8</b> Challenges to Identification</a></li>
<li class="chapter" data-level="9.3.9" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#examples-1"><i class="fa fa-check"></i><b>9.3.9</b> Examples</a></li>
<li class="chapter" data-level="9.3.10" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#types-of-rdd-1"><i class="fa fa-check"></i><b>9.3.10</b> Types of RDD</a></li>
<li class="chapter" data-level="9.3.11" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#parametric-vs.-non-parametric-applications-1"><i class="fa fa-check"></i><b>9.3.11</b> Parametric vs. Non-Parametric Applications</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="regression-discontinuity-designs-rdd.html"><a href="regression-discontinuity-designs-rdd.html#regression-kink-design"><i class="fa fa-check"></i><b>9.4</b> Regression Kink Design</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html"><i class="fa fa-check"></i><b>10</b> Fixed Effects and Panel Data Methods</a>
<ul>
<li class="chapter" data-level="10.1" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html#pooled-regression"><i class="fa fa-check"></i><b>10.1</b> Pooled Regression</a></li>
<li class="chapter" data-level="10.2" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html#panel-data-methods"><i class="fa fa-check"></i><b>10.2</b> Panel Data Methods</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html#fixed-effects-model"><i class="fa fa-check"></i><b>10.2.1</b> Fixed Effects Model</a></li>
<li class="chapter" data-level="10.2.2" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html#random-effects-model"><i class="fa fa-check"></i><b>10.2.2</b> Random Effects Model</a></li>
<li class="chapter" data-level="10.2.3" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html#example-economic-growth-and-education"><i class="fa fa-check"></i><b>10.2.3</b> Example: Economic Growth and Education</a></li>
<li class="chapter" data-level="10.2.4" data-path="fixed-effects-and-panel-data-methods.html"><a href="fixed-effects-and-panel-data-methods.html#conclusion-11"><i class="fa fa-check"></i><b>10.2.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html"><i class="fa fa-check"></i><b>11</b> Double/Debiased Machine Learning (Double ML)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html#motivation"><i class="fa fa-check"></i><b>11.1</b> Motivation</a></li>
<li class="chapter" data-level="11.2" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html#key-components"><i class="fa fa-check"></i><b>11.2</b> Key Components</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html#practical-workflow"><i class="fa fa-check"></i><b>11.2.1</b> Practical Workflow</a></li>
<li class="chapter" data-level="11.2.2" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html#use-case-example"><i class="fa fa-check"></i><b>11.2.2</b> Use Case Example</a></li>
<li class="chapter" data-level="11.2.3" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html#advantages-1"><i class="fa fa-check"></i><b>11.2.3</b> Advantages</a></li>
<li class="chapter" data-level="11.2.4" data-path="doubledebiased-machine-learning-double-ml.html"><a href="doubledebiased-machine-learning-double-ml.html#key-reference"><i class="fa fa-check"></i><b>11.2.4</b> Key Reference</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html"><i class="fa fa-check"></i><b>12</b> Ordinary Least Squares (OLS)</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#ordinary-least-squares-ols-1"><i class="fa fa-check"></i><b>12.1</b> Ordinary Least Squares (OLS)</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#linearity"><i class="fa fa-check"></i><b>12.1.1</b> <strong>Linearity</strong></a></li>
<li class="chapter" data-level="12.1.2" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#exogeneity"><i class="fa fa-check"></i><b>12.1.2</b> <strong>Exogeneity</strong></a></li>
<li class="chapter" data-level="12.1.3" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#homoscedasticity"><i class="fa fa-check"></i><b>12.1.3</b> <strong>Homoscedasticity</strong></a></li>
<li class="chapter" data-level="12.1.4" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#no-autocorrelation"><i class="fa fa-check"></i><b>12.1.4</b> <strong>No Autocorrelation</strong></a></li>
<li class="chapter" data-level="12.1.5" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#no-perfect-multicollinearity"><i class="fa fa-check"></i><b>12.1.5</b> <strong>No Perfect Multicollinearity</strong></a></li>
<li class="chapter" data-level="12.1.6" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#normality-of-errors-for-inference"><i class="fa fa-check"></i><b>12.1.6</b> <strong>Normality of Errors (for inference)</strong></a></li>
<li class="chapter" data-level="12.1.7" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#practical-considerations-and-tests"><i class="fa fa-check"></i><b>12.1.7</b> Practical Considerations and Tests</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#simple-linear-regression"><i class="fa fa-check"></i><b>12.2</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#summary-4"><i class="fa fa-check"></i><b>12.2.1</b> Summary</a></li>
<li class="chapter" data-level="12.2.2" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#interpreting-model-coefficients-in-ols-models"><i class="fa fa-check"></i><b>12.2.2</b> Interpreting Model Coefficients in OLS Models</a></li>
<li class="chapter" data-level="12.2.3" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#linear-models-linear-linear"><i class="fa fa-check"></i><b>12.2.3</b> 1. Linear Models (Linear-Linear)</a></li>
<li class="chapter" data-level="12.2.4" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#log-linear-models"><i class="fa fa-check"></i><b>12.2.4</b> 2. Log-Linear Models</a></li>
<li class="chapter" data-level="12.2.5" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#linear-log-models"><i class="fa fa-check"></i><b>12.2.5</b> 3. Linear-Log Models</a></li>
<li class="chapter" data-level="12.2.6" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#log-log-models"><i class="fa fa-check"></i><b>12.2.6</b> 4. Log-Log Models</a></li>
<li class="chapter" data-level="12.2.7" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#examples-of-dummy-and-continuous-variables"><i class="fa fa-check"></i><b>12.2.7</b> Examples of Dummy and Continuous Variables</a></li>
<li class="chapter" data-level="12.2.8" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#assumptions-and-considerations-2"><i class="fa fa-check"></i><b>12.2.8</b> Assumptions and Considerations</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#multivariate-regression"><i class="fa fa-check"></i><b>12.3</b> Multivariate Regression</a></li>
<li class="chapter" data-level="12.4" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#generalized-linear-model"><i class="fa fa-check"></i><b>12.4</b> Generalized Linear Model</a></li>
<li class="chapter" data-level="12.5" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#generalised-least-square"><i class="fa fa-check"></i><b>12.5</b> Generalised Least Square</a></li>
<li class="chapter" data-level="12.6" data-path="ordinary-least-squares-ols.html"><a href="ordinary-least-squares-ols.html#weighted-least-squares-wls"><i class="fa fa-check"></i><b>12.6</b> Weighted Least Squares (WLS)</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html"><i class="fa fa-check"></i><b>13</b> Doubly Robust Methods</a>
<ul>
<li class="chapter" data-level="13.1" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#why-they-matter"><i class="fa fa-check"></i><b>13.1</b> Why They Matter</a></li>
<li class="chapter" data-level="13.2" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#core-ingredients"><i class="fa fa-check"></i><b>13.2</b> Core Ingredients</a></li>
<li class="chapter" data-level="13.3" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#more-on-outcome-models-for-treated-and-control"><i class="fa fa-check"></i><b>13.3</b> More on Outcome Models for Treated and Control</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#why-some-articles-emphasize-separate-models"><i class="fa fa-check"></i><b>13.3.1</b> Why Some Articles Emphasize Separate Models</a></li>
<li class="chapter" data-level="13.3.2" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#key-point"><i class="fa fa-check"></i><b>13.3.2</b> Key Point</a></li>
<li class="chapter" data-level="13.3.3" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#takeaway-for-your-notebook"><i class="fa fa-check"></i><b>13.3.3</b> Takeaway for Your Notebook</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#advantages-2"><i class="fa fa-check"></i><b>13.4</b> Advantages</a></li>
<li class="chapter" data-level="13.5" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#assumptions-2"><i class="fa fa-check"></i><b>13.5</b> Assumptions</a></li>
<li class="chapter" data-level="13.6" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#example-applications"><i class="fa fa-check"></i><b>13.6</b> Example Applications</a></li>
<li class="chapter" data-level="13.7" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#summary-5"><i class="fa fa-check"></i><b>13.7</b> Summary</a></li>
<li class="chapter" data-level="13.8" data-path="doubly-robust-methods.html"><a href="doubly-robust-methods.html#extension-dr-in-difference-in-differences-drdid"><i class="fa fa-check"></i><b>13.8</b> Extension: DR in Difference-in-Differences (DRDID)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="resampling-methods.html"><a href="resampling-methods.html"><i class="fa fa-check"></i><b>14</b> Resampling methods</a>
<ul>
<li class="chapter" data-level="14.1" data-path="resampling-methods.html"><a href="resampling-methods.html#randomization-based-methods"><i class="fa fa-check"></i><b>14.1</b> Randomization-Based Methods</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="resampling-methods.html"><a href="resampling-methods.html#traditional-methods-vs.-randomization-based-methods"><i class="fa fa-check"></i><b>14.1.1</b> Traditional Methods vs. Randomization-Based Methods</a></li>
<li class="chapter" data-level="14.1.2" data-path="resampling-methods.html"><a href="resampling-methods.html#why-use-randomization-based-methods"><i class="fa fa-check"></i><b>14.1.2</b> Why Use Randomization-Based Methods?</a></li>
<li class="chapter" data-level="14.1.3" data-path="resampling-methods.html"><a href="resampling-methods.html#how-randomization-based-methods-work"><i class="fa fa-check"></i><b>14.1.3</b> How Randomization-Based Methods Work</a></li>
<li class="chapter" data-level="14.1.4" data-path="resampling-methods.html"><a href="resampling-methods.html#example-14"><i class="fa fa-check"></i><b>14.1.4</b> Example</a></li>
<li class="chapter" data-level="14.1.5" data-path="resampling-methods.html"><a href="resampling-methods.html#contribution-of-athey-and-imbens"><i class="fa fa-check"></i><b>14.1.5</b> Contribution of Athey and Imbens</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="resampling-methods.html"><a href="resampling-methods.html#bootstrapping-1"><i class="fa fa-check"></i><b>14.2</b> Bootstrapping</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html"><i class="fa fa-check"></i><b>15</b> Hypotheis Testing</a>
<ul>
<li class="chapter" data-level="15.1" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#concepts-3"><i class="fa fa-check"></i><b>15.1</b> Concepts</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#significance-level-α"><i class="fa fa-check"></i><b>15.1.1</b> Significance Level (α)</a></li>
<li class="chapter" data-level="15.1.2" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#p-value"><i class="fa fa-check"></i><b>15.1.2</b> P-Value</a></li>
<li class="chapter" data-level="15.1.3" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#type-i-error"><i class="fa fa-check"></i><b>15.1.3</b> Type I Error</a></li>
<li class="chapter" data-level="15.1.4" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#type-ii-error"><i class="fa fa-check"></i><b>15.1.4</b> Type II Error</a></li>
<li class="chapter" data-level="15.1.5" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#relationship-between-type-i-and-type-ii-errors"><i class="fa fa-check"></i><b>15.1.5</b> Relationship Between Type I and Type II Errors</a></li>
<li class="chapter" data-level="15.1.6" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#importance-in-research-and-decision-making"><i class="fa fa-check"></i><b>15.1.6</b> Importance in Research and Decision Making</a></li>
<li class="chapter" data-level="15.1.7" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#statistical-power"><i class="fa fa-check"></i><b>15.1.7</b> Statistical power</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#null-hypothesis"><i class="fa fa-check"></i><b>15.2</b> Null Hypothesis</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#fishers-sharp-null-hypothesis"><i class="fa fa-check"></i><b>15.2.1</b> Fisher’s Sharp Null Hypothesis</a></li>
<li class="chapter" data-level="15.2.2" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#neymans-null-hypothesis"><i class="fa fa-check"></i><b>15.2.2</b> Neyman’s Null Hypothesis</a></li>
<li class="chapter" data-level="15.2.3" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#key-differences"><i class="fa fa-check"></i><b>15.2.3</b> Key Differences</a></li>
<li class="chapter" data-level="15.2.4" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#example-to-illustrate-the-difference"><i class="fa fa-check"></i><b>15.2.4</b> Example to Illustrate the Difference</a></li>
<li class="chapter" data-level="15.2.5" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#conclusion-12"><i class="fa fa-check"></i><b>15.2.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#permutation-tests"><i class="fa fa-check"></i><b>15.3</b> Permutation Tests</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#when-and-why-to-use-permutation-tests"><i class="fa fa-check"></i><b>15.3.1</b> When and Why to Use Permutation Tests</a></li>
<li class="chapter" data-level="15.3.2" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#how-to-perform-a-permutation-test"><i class="fa fa-check"></i><b>15.3.2</b> How to Perform a Permutation Test</a></li>
<li class="chapter" data-level="15.3.3" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#example-calculation"><i class="fa fa-check"></i><b>15.3.3</b> Example Calculation</a></li>
<li class="chapter" data-level="15.3.4" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#conclusion-13"><i class="fa fa-check"></i><b>15.3.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#fischers-exact-test"><i class="fa fa-check"></i><b>15.4</b> Fischer’s Exact Test</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#when-to-use-fishers-exact-test"><i class="fa fa-check"></i><b>15.4.1</b> When to Use Fisher’s Exact Test</a></li>
<li class="chapter" data-level="15.4.2" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#how-fishers-exact-test-works"><i class="fa fa-check"></i><b>15.4.2</b> How Fisher’s Exact Test Works</a></li>
<li class="chapter" data-level="15.4.3" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#step-by-step-example-1"><i class="fa fa-check"></i><b>15.4.3</b> Step-by-Step Example</a></li>
<li class="chapter" data-level="15.4.4" data-path="hypotheis-testing.html"><a href="hypotheis-testing.html#conclusion-14"><i class="fa fa-check"></i><b>15.4.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="maximum-likelihood-estimation.html"><a href="maximum-likelihood-estimation.html"><i class="fa fa-check"></i><b>16</b> Maximum Likelihood Estimation</a></li>
<li class="chapter" data-level="17" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html"><i class="fa fa-check"></i><b>17</b> Amazon Economist - Case Study - 2024</a>
<ul>
<li class="chapter" data-level="17.1" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#concept-2"><i class="fa fa-check"></i><b>17.1</b> Concept</a></li>
<li class="chapter" data-level="17.2" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#the-scenario"><i class="fa fa-check"></i><b>17.2</b> 📦 The Scenario</a></li>
<li class="chapter" data-level="17.3" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#step-1-clarify-the-business-question-and-data"><i class="fa fa-check"></i><b>17.3</b> Step 1: Clarify the Business Question and Data</a></li>
<li class="chapter" data-level="17.4" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#step-2-possible-evaluation-designs-tech-breadth"><i class="fa fa-check"></i><b>17.4</b> Step 2: Possible Evaluation Designs (Tech Breadth)</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#randomized-controlled-trial-rct"><i class="fa fa-check"></i><b>17.4.1</b> <strong>Randomized Controlled Trial (RCT)</strong></a></li>
<li class="chapter" data-level="17.4.2" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#difference-in-differences-did"><i class="fa fa-check"></i><b>17.4.2</b> <strong>Difference-in-Differences (DiD)</strong></a></li>
<li class="chapter" data-level="17.4.3" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#event-study-staggered-adoption"><i class="fa fa-check"></i><b>17.4.3</b> <strong>Event Study / Staggered Adoption</strong></a></li>
<li class="chapter" data-level="17.4.4" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#synthetic-control"><i class="fa fa-check"></i><b>17.4.4</b> <strong>Synthetic Control</strong></a></li>
<li class="chapter" data-level="17.4.5" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#propensity-score-matching-reweighting"><i class="fa fa-check"></i><b>17.4.5</b> <strong>Propensity Score Matching / Reweighting</strong></a></li>
<li class="chapter" data-level="17.4.6" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#instrumental-variables-iv-if-spillovers-or-selection-bias-is-a-concern."><i class="fa fa-check"></i><b>17.4.6</b> <strong>Instrumental Variables (IV)</strong> (if spillovers or selection bias is a concern).</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#step-3-tech-depth-example-with-difference-in-differences"><i class="fa fa-check"></i><b>17.5</b> Step 3: Tech Depth — Example with <strong>Difference-in-Differences</strong></a></li>
<li class="chapter" data-level="17.6" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#step-3-with-rcts"><i class="fa fa-check"></i><b>17.6</b> Step 3 with RCTs</a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#design-choices"><i class="fa fa-check"></i><b>17.6.1</b> 🔹 Design Choices</a></li>
<li class="chapter" data-level="17.6.2" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#assumptions-3"><i class="fa fa-check"></i><b>17.6.2</b> 🔹 Assumptions</a></li>
<li class="chapter" data-level="17.6.3" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#measurement-plan"><i class="fa fa-check"></i><b>17.6.3</b> 🔹 Measurement Plan</a></li>
<li class="chapter" data-level="17.6.4" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#estimation"><i class="fa fa-check"></i><b>17.6.4</b> 🔹 Estimation</a></li>
<li class="chapter" data-level="17.6.5" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#power-and-sample-size"><i class="fa fa-check"></i><b>17.6.5</b> 🔹 Power and Sample Size</a></li>
<li class="chapter" data-level="17.6.6" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#threats-and-mitigations"><i class="fa fa-check"></i><b>17.6.6</b> 🔹 Threats and Mitigations</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#step-4-communicate-results"><i class="fa fa-check"></i><b>17.7</b> Step 4: Communicate Results</a></li>
<li class="chapter" data-level="17.8" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#more-on-instrumental-variables"><i class="fa fa-check"></i><b>17.8</b> More on Instrumental Variables</a></li>
<li class="chapter" data-level="17.9" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#more-questions"><i class="fa fa-check"></i><b>17.9</b> More Questions</a>
<ul>
<li class="chapter" data-level="17.9.1" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#in-ab-test-how-do-you-communicate-significance-level-change-1-5-to-non-technicals"><i class="fa fa-check"></i><b>17.9.1</b> In ab test, how do you communicate significance level change, 1%, 5% to non-technicals?</a></li>
<li class="chapter" data-level="17.9.2" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#in-synthetic-control-how-do-you-calculate-weigths"><i class="fa fa-check"></i><b>17.9.2</b> In synthetic control how do you calculate weigths?</a></li>
<li class="chapter" data-level="17.9.3" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#how-do-you-make-sure-your-analysis-is-good"><i class="fa fa-check"></i><b>17.9.3</b> How do you make sure your analysis is good?</a></li>
<li class="chapter" data-level="17.9.4" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#what-if-leadership-says-implement-his-program-in-big-cities"><i class="fa fa-check"></i><b>17.9.4</b> What if leadership says implement his program in big cities?</a></li>
<li class="chapter" data-level="17.9.5" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#what-if-leadership-want-to-do-it-within-east-and-west-coast"><i class="fa fa-check"></i><b>17.9.5</b> What if leadership want to do it within east and west coast?</a></li>
<li class="chapter" data-level="17.9.6" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#how-i-determine-sample-size-significance-and-mde"><i class="fa fa-check"></i><b>17.9.6</b> How I determine sample size, significance, and MDE</a></li>
<li class="chapter" data-level="17.9.7" data-path="amazon-economist---case-study---2024.html"><a href="amazon-economist---case-study---2024.html#how-do-you-communicate-10-15-significance-to-non-technicals"><i class="fa fa-check"></i><b>17.9.7</b> How do you communicate 10-15% significance to non-technicals</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://davutemrah.github.io" target="blank">Back to Home Page</li>
<li><a href="https://davutemrah.github.io/notebooks/" target="blank">Back to Collections</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notes on Causal Models</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="matching" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Matching<a href="matching.html#matching" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="subclassification" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Subclassification<a href="matching.html#subclassification" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Subclassification is a method used to satisfy the backdoor criterion by adjusting differences in means with strata-specific weights. These weights ensure that the distribution of means by strata matches the counterfactual’s strata distribution.</p>
<p>This method addresses the problem when treatment assignment is random, conditional on observables. The assumption in mathematical notation is:</p>
<p><span class="math display">\[ [Y^0, Y^1] \perp D \mid X \]</span></p>
<p>This implies that, given covariates <span class="math inline">\(X\)</span>, the treatment assignment <span class="math inline">\(D\)</span> is independent of the potential outcomes (random).</p>
<p>Treatment can be assigned conditionally on covariates. For example, a state might assign students to three classes randomly, but first, schools are chosen, and then students are assigned randomly within those schools.</p>
<div id="example-2" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Example<a href="matching.html#example-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider a study investigating the impact of cigar type on mortality. Without considering age, it appears that cigar or pipe users have higher mortality rates, which is controversial. However, age is a crucial factor that influences both cigar type selection (treatment) and mortality rate (outcome), making it a confounder.</p>
<p>In this method, my strategy for addressing covariate imbalance is to condition on age, ensuring that the age distribution is comparable between the treatment and control groups.</p>
</div>
<div id="step-by-step-example" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Step-by-Step Example<a href="matching.html#step-by-step-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Bin Age into Groups</strong>: Create age groups (e.g., 18-30, 31-45, 46-60, 61+).</p></li>
<li><p><strong>Calculate Percent Distribution</strong>: Determine the percentage of individuals in each age group for both treatment and control groups.</p></li>
<li><p><strong>Weighted Mortality Rate</strong>:</p>
<ul>
<li>Calculate the mortality rate for each age group within each treatment group.<br />
</li>
<li>Use the age group percentages to calculate a weighted average mortality rate for each treatment group.</li>
</ul></li>
</ol>
<div id="implementation" class="section level4 hasAnchor" number="3.1.2.1">
<h4><span class="header-section-number">3.1.2.1</span> Implementation<a href="matching.html#implementation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Suppose we have the following data:</p>
<table style="width:100%;">
<colgroup>
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th>Age Group</th>
<th>Treatment</th>
<th>Control</th>
<th>Treatment Deaths</th>
<th>Control Deaths</th>
<th>Treatment Total</th>
<th>Control Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>18-30</td>
<td>20%</td>
<td>25%</td>
<td>10</td>
<td>15</td>
<td>100</td>
<td>150</td>
</tr>
<tr class="even">
<td>31-45</td>
<td>30%</td>
<td>20%</td>
<td>20</td>
<td>10</td>
<td>150</td>
<td>100</td>
</tr>
<tr class="odd">
<td>46-60</td>
<td>25%</td>
<td>30%</td>
<td>30</td>
<td>20</td>
<td>125</td>
<td>150</td>
</tr>
<tr class="even">
<td>61+</td>
<td>25%</td>
<td>25%</td>
<td>40</td>
<td>30</td>
<td>125</td>
<td>125</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li><p><strong>Calculate Age-Specific Mortality Rates</strong>:</p>
<p><span class="math display">\[
\text{Mortality Rate (18-30)} = \frac{10}{100} = 10\%, \quad \text{Control Mortality Rate (18-30)} = \frac{15}{150} = 10\%
\]</span></p>
<p>(Repeat for other age groups.)</p></li>
<li><p><strong>Calculate Weighted Mortality Rates</strong>:</p>
<p><span class="math display">\[
\text{Weighted Mortality Rate (Treatment)} = 0.20 \times 10\% + 0.30 \times 13.3\% + 0.25 \times 24\% + 0.25 \times 32\%
\]</span></p>
<p><span class="math display">\[
\text{Weighted Mortality Rate (Control)} = 0.25 \times 10\% + 0.20 \times 10\% + 0.30 \times 13.3\% + 0.25 \times 24\%
\]</span></p></li>
</ol>
</div>
</div>
<div id="considerations" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Considerations<a href="matching.html#considerations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Choice of Variables</strong>: Deciding which variables to use for adjustment can be challenging. Including too many variables can lead to the “curse of dimensionality,” where the data becomes too sparse in higher dimensions.</p></li>
<li><p><strong>Common Support Assumption</strong>: This assumption requires that for each stratum, there exist observations in both the treatment and control groups. If the sample size is small, this assumption may be violated, making it difficult to compare groups effectively.</p></li>
</ul>
<p>By carefully choosing variables and ensuring sufficient sample sizes within strata, subclassification can effectively adjust for covariate imbalances and yield more accurate estimates of treatment effects.</p>
</div>
</div>
<div id="exact-matching" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Exact Matching<a href="matching.html#exact-matching" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Exact matching is a method used to estimate causal effects by pairing units in the treatment group with units in the control group that have identical values for certain covariates. This method helps in comparing the outcomes of similar units under different treatments to infer causal effects.</p>
<p>Why?</p>
<p>Because independence assumption is violated, and treatment assignment is not random.</p>
<div id="explanation" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Explanation<a href="matching.html#explanation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose we have a treatment group and a control group, and we want to estimate the treatment effect by finding exact matches based on a covariate.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Matching Process</strong>:</p>
<ul>
<li><p>If a unit in the treatment group has a covariate value of 2, we look for a unit in the control group with the same covariate value of 2.</p></li>
<li><p>If we find such a match, we use the outcome of the control unit to impute the counterfactual outcome for the treatment unit.</p></li>
</ul></li>
<li><p><strong>Handling Multiple Matches</strong>:</p>
<ul>
<li>If there are multiple control units with the same covariate value as the treatment unit, we take the average of those control units’ outcomes to impute the counterfactual for the treatment unit.</li>
</ul></li>
<li><p><strong>Calculating the Average Treatment Effect (ATE)</strong>:</p>
<ul>
<li>By imputing counterfactual outcomes for each unit in both the control and treatment groups based on matching covariates, we can calculate the ATE.</li>
</ul></li>
<li><p><strong>Calculating the Average Treatment Effect on the Treated (ATT)</strong>:</p>
<ul>
<li><p>Typically, we find exact matching control units for treatment units and calculate the ATT. This involves comparing only the matched pairs.</p></li>
<li><p>In a typical example, control group is much larger than treatment group and it is much easier to find similar treated units within a larger control unit.</p></li>
</ul></li>
</ol>
</div>
<div id="example-3" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Example<a href="matching.html#example-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s consider an example where we are studying the effect of a new teaching method on student performance. We have two groups: students who received the new teaching method (treatment group) and students who received the traditional method (control group). We will use the exact matching method based on a covariate, such as prior test scores.</p>
<div id="step-by-step-process" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Step-by-Step Process<a href="matching.html#step-by-step-process" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p><strong>Identify Covariate</strong>:</p>
<ul>
<li>Prior test scores are used as the matching covariate.</li>
</ul></li>
<li><p><strong>Exact Matching</strong>:</p>
<ul>
<li>Suppose a student in the treatment group has a prior test score of 85.</li>
<li>We look for students in the control group with a prior test score of 85.</li>
<li>If we find multiple students in the control group with a prior test score of 85, we average their outcomes.</li>
</ul></li>
<li><p><strong>Impute Counterfactuals</strong>:</p>
<ul>
<li>For the treatment student with a prior test score of 85, we use the average outcome of the matched control students to impute the counterfactual outcome.</li>
</ul></li>
<li><p><strong>Create Matched Sample</strong>:</p>
<ul>
<li><p>The matched sample consists of pairs of treatment and control units with the same covariate value.</p></li>
<li><p>For example, if we have another treatment student with a prior test score of 90, we find control students with a prior test score of 90 and repeat the process.</p></li>
</ul></li>
<li><p><strong>Calculate ATT</strong>:</p>
<ul>
<li><p>For each matched pair, we calculate the difference in outcomes.</p></li>
<li><p>Average these differences to obtain the ATT.</p></li>
</ul></li>
</ol>
</div>
<div id="example-data" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Example Data<a href="matching.html#example-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<thead>
<tr class="header">
<th>Student</th>
<th>Group</th>
<th>Prior Test Score</th>
<th>Outcome (Final Score)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>Treatment</td>
<td>85</td>
<td>90</td>
</tr>
<tr class="even">
<td>B</td>
<td>Treatment</td>
<td>90</td>
<td>88</td>
</tr>
<tr class="odd">
<td>C</td>
<td>Control</td>
<td>85</td>
<td>85</td>
</tr>
<tr class="even">
<td>D</td>
<td>Control</td>
<td>90</td>
<td>86</td>
</tr>
<tr class="odd">
<td>E</td>
<td>Control</td>
<td>85</td>
<td>87</td>
</tr>
</tbody>
</table>
<ul>
<li>For Student A (Treatment, 85): Match with Students C and E (Control, 85). Average outcome: (85 + 87) / 2 = 86. Imputed counterfactual for A: 86.</li>
<li>For Student B (Treatment, 90): Match with Student D (Control, 90). Imputed counterfactual for B: 86.</li>
</ul>
</div>
<div id="att-calculation" class="section level4 hasAnchor" number="3.2.2.3">
<h4><span class="header-section-number">3.2.2.3</span> ATT Calculation<a href="matching.html#att-calculation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Difference for Student A: 90 - 86 = 4</li>
<li>Difference for Student B: 88 - 86 = 2</li>
</ul>
<p><span class="math display">\[ \text{ATT} = \frac{4 + 2}{2} = 3 \]</span></p>
</div>
</div>
<div id="conclusion-1" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Conclusion<a href="matching.html#conclusion-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Exact matching helps in creating a comparable control group for each treatment unit based on covariates. By doing so, we can more accurately estimate the causal effect of the treatment.</p>
<p>However, this method requires sufficient overlap between the covariate distributions of the treatment and control groups, and the common support assumption must be satisfied.</p>
</div>
</div>
<div id="approximate-matching-methods" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Approximate Matching Methods<a href="matching.html#approximate-matching-methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you have multiple covariates to match or do not have exact matches, you can use approximate matching methods to find the best possible matches.</p>
<div id="nearest-neighbor-covariate-matching" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Nearest Neighbor Covariate Matching<a href="matching.html#nearest-neighbor-covariate-matching" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When the number of matching covariates exceeds one, we need a new definition of distance to measure closeness between units. Multiple covariates not only introduce the curse-of-dimensionality problem but also complicate the measurement of distance. This poses challenges for finding a good match in the data and demands a large sample size for the matching discrepancies to be trivially small.</p>
<div id="euclidean-distance" class="section level4 hasAnchor" number="3.3.1.1">
<h4><span class="header-section-number">3.3.1.1</span> Euclidean Distance<a href="matching.html#euclidean-distance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><strong>Definition</strong>: Euclidean distance is a common measure of distance between two points in a multi-dimensional space.</p></li>
<li><p><strong>Problem</strong>: The distance measure depends on the scale of the variables, which can distort the true closeness between points.</p></li>
</ul>
</div>
<div id="normalized-euclidean-distance" class="section level4 hasAnchor" number="3.3.1.2">
<h4><span class="header-section-number">3.3.1.2</span> Normalized Euclidean Distance<a href="matching.html#normalized-euclidean-distance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><strong>Definition</strong>: This is the Euclidean distance normalized by the variance of the variables.</p></li>
<li><p><strong>Advantage</strong>: Normalizing by variance adjusts for differences in scale among the covariates, making the distance measure more accurate.</p></li>
</ul>
</div>
<div id="mahalanobis-distance" class="section level4 hasAnchor" number="3.3.1.3">
<h4><span class="header-section-number">3.3.1.3</span> Mahalanobis Distance<a href="matching.html#mahalanobis-distance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><strong>Definition</strong>: Mahalanobis distance is a scale-invariant distance metric that takes into account the correlations between variables.</p></li>
<li><p><strong>Advantage</strong>: It adjusts for the scale and correlations of the covariates, providing a more accurate measure of distance.</p></li>
</ul>
</div>
</div>
<div id="example-4" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Example<a href="matching.html#example-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose we are studying the impact of a job training program on employment outcomes. We have multiple covariates, such as age, education level, and prior work experience. We want to use approximate matching to find control units that are similar to the treatment units based on these covariates.</p>
<div id="step-by-step-process-1" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Step-by-Step Process<a href="matching.html#step-by-step-process-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><strong>Identify Covariates</strong>:
<ul>
<li>Age</li>
<li>Education Level</li>
<li>Prior Work Experience</li>
</ul></li>
<li><strong>Calculate Distances</strong>:
<ul>
<li><p><strong>Euclidean Distance</strong>:</p>
<p><span class="math display">\[\text{Distance} = \sqrt{(X_1 - Y_1)^2 + (X_2 - Y_2)^2 + \cdots + (X_n - Y_n)^2}\]</span></p></li>
<li><p><strong>Normalized Euclidean Distance</strong>:</p>
<p><span class="math display">\[\text{Distance} = \sqrt{\left(\frac{X_1 - Y_1}{\sigma_1}\right)^2 + \left(\frac{X_2 - Y_2}{\sigma_2}\right)^2 + \cdots + \left(\frac{X_n - Y_n}{\sigma_n}\right)^2}\]</span></p></li>
<li><p><strong>Mahalanobis Distance</strong>:</p>
<p><span class="math display">\[\text{Distance} = \sqrt{(X - Y)^T S^{-1} (X - Y)}\]</span></p></li>
</ul></li>
</ol>
<p>where <span class="math inline">\(S\)</span> is the covariance matrix of the covariates.</p>
<ol start="3" style="list-style-type: decimal">
<li><p><strong>Find Nearest Neighbors</strong>:</p>
<ul>
<li><p>For each treatment unit, calculate the distance to all control units using the chosen distance metric.</p></li>
<li><p>Select the control unit with the smallest distance as the match for the treatment unit.</p></li>
</ul></li>
<li><p><strong>Calculate Treatment Effect</strong>:</p>
<ul>
<li>Compare the outcomes of matched pairs to estimate the treatment effect.</li>
</ul></li>
</ol>
</div>
</div>
<div id="hypothetical-data" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Hypothetical Data<a href="matching.html#hypothetical-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="8%" />
<col width="14%" />
<col width="6%" />
<col width="22%" />
<col width="31%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th>Unit</th>
<th>Group</th>
<th>Age</th>
<th>Education Level</th>
<th>Prior Work Experience</th>
<th>Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Treatment</td>
<td>25</td>
<td>Bachelor’s</td>
<td>2 years</td>
<td>Employed</td>
</tr>
<tr class="even">
<td>2</td>
<td>Treatment</td>
<td>30</td>
<td>Master’s</td>
<td>5 years</td>
<td>Employed</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Control</td>
<td>26</td>
<td>Bachelor’s</td>
<td>1 year</td>
<td>Unemployed</td>
</tr>
<tr class="even">
<td>4</td>
<td>Control</td>
<td>29</td>
<td>Master’s</td>
<td>6 years</td>
<td>Employed</td>
</tr>
</tbody>
</table>
<div id="matching-process" class="section level4 hasAnchor" number="3.3.3.1">
<h4><span class="header-section-number">3.3.3.1</span> Matching Process<a href="matching.html#matching-process" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p><strong>Calculate Normalized Euclidean Distances</strong>:</p>
<ul>
<li><p>Normalize the covariates by their variances.</p></li>
<li><p>Compute distances between each treatment unit and all control units.</p></li>
</ul></li>
<li><p><strong>Match Units</strong>:</p>
<ul>
<li><p>Match Unit 1 (Treatment) with Unit 3 (Control) based on the smallest normalized Euclidean distance.</p></li>
<li><p>Match Unit 2 (Treatment) with Unit 4 (Control) based on the smallest normalized Euclidean distance.</p></li>
</ul></li>
<li><p><strong>Estimate Treatment Effect</strong>:</p>
<ul>
<li>Compare outcomes of matched pairs:
<ul>
<li>Unit 1 (Treatment) vs. Unit 3 (Control): Employed vs. Unemployed</li>
<li>Unit 2 (Treatment) vs. Unit 4 (Control): Employed vs. Employed</li>
</ul></li>
</ul></li>
</ol>
<p>By using approximate matching methods like nearest neighbor matching with normalized Euclidean or Mahalanobis distances, we can more accurately estimate the treatment effect even when dealing with multiple covariates and the lack of exact matches.</p>
</div>
</div>
</div>
<div id="propensity-score-methods" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Propensity Score Methods<a href="matching.html#propensity-score-methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Propensity score methods are approximate matching techniques that use propensity scores as distance metrics. These methods offer several ways to perform matching based on propensity scores.</p>
<p>Propensity score matching (PSM) is a widely used method, particularly in medical sciences, for addressing selection on observables. However, it has not been as widely adopted among economists as other non-experimental methods like regression discontinuity or difference-in-differences. This reluctance is largely due to <strong>skepticism about the conditional independence assumption (CIA)</strong> being achievable in any dataset. Economists are often more concerned about selection on unobservables than selection on observables, making them less likely to use matching methods.</p>
<div id="concept" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Concept<a href="matching.html#concept" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Propensity score matching is used when a conditioning strategy can satisfy the backdoor criterion.</p>
<p>The method involves estimating a model (usually logit or probit) to predict the conditional probability of treatment based on covariates.</p>
<p>The <strong>predicted values</strong> from this estimation, called propensity scores, collapse the covariates into a single scalar. Comparisons between the treatment and control groups are then based on these propensity scores.</p>
</div>
<div id="steps" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Steps<a href="matching.html#steps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Estimate Propensity Scores</strong>: Use a logit or probit model to estimate the probability of receiving the treatment based on observed covariates.</p></li>
<li><p><strong>Match Units</strong>: Match treatment units with control units that have similar propensity scores.</p></li>
<li><p><strong>Assess Overlap</strong>: Ensure that there is common support, meaning there are units in both treatment and control groups across the range of propensity scores.</p></li>
<li><p><strong>Calculate Treatment Effect</strong>: Compare outcomes between matched treatment and control units to estimate the treatment effect.</p></li>
</ol>
</div>
<div id="example-5" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Example<a href="matching.html#example-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose we are studying the effect of a job training program on employment outcomes. We have the following covariates: age, education level, and prior work experience. We will use propensity score matching to estimate the effect of the program.</p>
<div id="step-by-step-process-2" class="section level4 hasAnchor" number="3.4.3.1">
<h4><span class="header-section-number">3.4.3.1</span> Step-by-Step Process<a href="matching.html#step-by-step-process-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><strong>Estimate Propensity Scores</strong>:
<ul>
<li>Fit a logit model to predict the probability of receiving the job training based on age, education level, and prior work experience.</li>
</ul></li>
</ol>
<p>Example logit model: <span class="math display">\[P(Treatment) = \frac{1}{1 + e^{-(\beta_0 + \beta_1 \cdot Age + \beta_2 \cdot Education + \beta_3 \cdot Experience)}}
     \]</span></p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Calculate Propensity Scores</strong>:</li>
</ol>
<p>Use the fitted logit model to calculate the propensity score for each unit.</p>
<ol start="3" style="list-style-type: decimal">
<li><strong>Match Units</strong>:</li>
</ol>
<ul>
<li><p>Match each treatment unit with one or more control units that have similar propensity scores.</p></li>
<li><p>Example matching method: Nearest neighbor matching.</p></li>
</ul>
<p>NN matching is greedy in the sense that each pairing occurs without reference to how other units will be or have been paired, and therefore does not aim to optimize any criterion. Nearest neighbor matching is the most common form of matching used.</p>
<p>For large datasets (i.e., in 10,000s to millions), some matching methods will be too slow to be used at scale. Instead, users should consider generalized full matching, subclassification, or coarsened exact matching, which are all very fast and designed to work with large datasets.</p>
<p>(Nice article on MatchIt)[<a href="https://cran.r-project.org/web/packages/MatchIt/vignettes/matching-methods.html" class="uri">https://cran.r-project.org/web/packages/MatchIt/vignettes/matching-methods.html</a>]</p>
<ol start="4" style="list-style-type: decimal">
<li><strong>Assess Overlap</strong>:</li>
</ol>
<ul>
<li><p>Check for common support to ensure there is overlap in propensity scores between the treatment and control groups.</p></li>
<li><p>If there is no overlap, adjust the model or consider other methods.</p></li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li><strong>Calculate Treatment Effect</strong>:</li>
</ol>
<ul>
<li><p>Compare employment outcomes between matched treatment and control units.</p></li>
<li><p>Calculate the average treatment effect on the treated (ATT).</p></li>
</ul>
</div>
<div id="example-data-1" class="section level4 hasAnchor" number="3.4.3.2">
<h4><span class="header-section-number">3.4.3.2</span> Example Data<a href="matching.html#example-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table style="width:100%;">
<colgroup>
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th>Unit</th>
<th>Group</th>
<th>Age</th>
<th>Education Level</th>
<th>Prior Work Experience</th>
<th>Outcome</th>
<th>Propensity Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Treatment</td>
<td>25</td>
<td>Bachelor’s</td>
<td>2 years</td>
<td>Employed</td>
<td>0.70</td>
</tr>
<tr class="even">
<td>2</td>
<td>Treatment</td>
<td>30</td>
<td>Master’s</td>
<td>5 years</td>
<td>Employed</td>
<td>0.85</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Control</td>
<td>26</td>
<td>Bachelor’s</td>
<td>1 year</td>
<td>Unemployed</td>
<td>0.65</td>
</tr>
<tr class="even">
<td>4</td>
<td>Control</td>
<td>29</td>
<td>Master’s</td>
<td>6 years</td>
<td>Employed</td>
<td>0.80</td>
</tr>
</tbody>
</table>
<p><strong>Match Units</strong>:</p>
<ul>
<li><p>Match Unit 1 (Treatment) with Unit 3 (Control) based on similar propensity scores (0.70 vs. 0.65).</p></li>
<li><p>Match Unit 2 (Treatment) with Unit 4 (Control) based on similar propensity scores (0.85 vs. 0.80).</p></li>
<li><p>Not very intuitive or even confusing: There are many ways to use PS for matching</p></li>
</ul>
<p><strong>Calculate ATT</strong>:</p>
<p>Compare outcomes of matched pairs:
- Unit 1 (Treatment) vs. Unit 3 (Control): Employed vs. Unemployed
- Unit 2 (Treatment) vs. Unit 4 (Control): Employed vs. Employed</p>
</div>
</div>
<div id="assumptions-and-considerations" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Assumptions and Considerations<a href="matching.html#assumptions-and-considerations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><strong>Conditional Independence Assumption (CIA)</strong>:
<ul>
<li>Treatment assignment is independent of potential outcomes given the observed covariates.</li>
<li>This assumption is crucial for PSM to provide unbiased estimates.</li>
</ul></li>
<li><strong>Common Support</strong>:
<ul>
<li>There must be overlap in the distribution of propensity scores between the treatment and control groups.</li>
<li>Lack of common support can lead to biased estimates as some treatment units may have no comparable control units.</li>
</ul></li>
<li><strong>Model Specification</strong>:
<ul>
<li>The logit or probit model must be correctly specified to accurately estimate propensity scores.</li>
<li>Including relevant covariates and interactions is important for achieving balance between groups.</li>
</ul></li>
<li><strong>Sample Size</strong>:
<ul>
<li>PSM requires a sufficiently large sample size to find good matches for each treatment unit.</li>
<li>Smaller samples may lead to poor matches and biased estimates.</li>
</ul></li>
</ol>
<p>Propensity score matching is a powerful tool for estimating causal effects in observational studies, but it relies heavily on the assumptions of CIA and common support. Proper model specification and adequate sample size are essential for obtaining reliable estimates.</p>
</div>
</div>
<div id="inverse-probability-weighting-weighting-on-the-propensity-score" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Inverse Probability Weighting (Weighting on the propensity score)<a href="matching.html#inverse-probability-weighting-weighting-on-the-propensity-score" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It is weighting treatment and control units according to, which is causing units with very small values of the propensity score to blow up and become unusually influential in the calculation of ATT. Thus, we will need to trim the data.</p>
<p>A good rule of thumb, they note, is to keep only observations on the interval [0.1,0.9], which was performed at the end of the program.</p>
<p>We still need to calculate standard errors, such as based on a bootstrapping method,</p>
<p>The sensitivity of inverse probability weighting to extreme values of the propensity score has led some researchers to propose an alternative that can handle extremes a bit better.</p>
<p>Most software packages have programs that will estimate the sample analog of these inverse probability weighted parameters that use the second method with normalized weights.</p>
</div>
<div id="nearest-neighbor-matching" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Nearest-neighbor matching<a href="matching.html#nearest-neighbor-matching" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>An alternative, very popular approach to inverse probability weighting is matching on the propensity score. This is often done by finding a couple of units with comparable propensity scores from the control unit donor pool within some ad hoc chosen radius distance of the treated unit’s own propensity score. The researcher then averages the outcomes and then assigns that average as an imputation to the original treated unit as a proxy for the potential outcome under counterfactual control. Then effort is made to enforce common support through trimming.</p>
<p>Nevertheless, nearest-neighbor matching, along with inverse probability weighting, is perhaps the most common method for estimating a propensity score model.</p>
<p>Nearest-neighbor matching using the propensity score pairs each treatment unit with one or more comparable control group units , where comparability is measured in terms of distance to the nearest propensity score. This control group unit’s outcome is then plugged into a matched sample. Once we have the matched sample, we can calculate the ATT as</p>
<p>We will focus on the ATT because of the problems with overlap that we discussed earlier.</p>
<p>We can chose to match using K nearest neighbors. Nearest neighbors, in other words, will find the K nearest units in the control group, where “nearest” is measured as closest on the propensity score itself. Unlike covariate matching, distance here is straightforward because of the dimension reduction afforded by the propensity score. We then average actual outcome, and match that average outcome to each treatment unit. Once we have that, we subtract each unit’s matched control from its treatment value, and then divide by N, the number of treatment units.</p>
<div id="example-in-r" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Example in R<a href="matching.html#example-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>library(MatchIt)
library(Zelig)

m_out &lt;- matchit(treat ~ age + agesq + agecube + educ +
                 educsq + marr + nodegree +
                 black + hisp + re74 + re75 + u74 + u75 + interaction1,
                 data = nsw_dw_cpscontrol, method = &quot;nearest&quot;, 
                 distance = &quot;logit&quot;, ratio =5)

m_data &lt;- match.data(m_out)

z_out &lt;- zelig(re78 ~ treat + age + agesq + agecube + educ +
               educsq + marr + nodegree +
               black + hisp + re74 + re75 + u74 + u75 + interaction1, 
               model = &quot;ls&quot;, data = m_data)

x_out &lt;- setx(z_out, treat = 0)
x1_out &lt;- setx(z_out, treat = 1)

s_out &lt;- sim(z_out, x = x_out, x1 = x1_out)

summary(s_out)</code></pre>
</div>
</div>
<div id="coarsened-exact-matching" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Coarsened Exact Matching<a href="matching.html#coarsened-exact-matching" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Coarsened Exact Matching (CEM) is a method based on the idea that exact matching can often be achieved by coarsening the data. Coarsening involves creating categorical variables (e.g., 0- to 10-year-olds, 11- to 20-year-olds), making it easier to find exact matches. Once exact matches are found, weights are calculated based on where a person fits within certain strata, and these weights are used in a simple weighted regression.</p>
<p>This method can be implemented using the <code>MatchIt</code> library in R.</p>
<div id="example-6" class="section level3 hasAnchor" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Example<a href="matching.html#example-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider the variable “schooling,” which can be categorized as:
- Less than high school
- High school only
- Some college
- College graduate
- Post-college</p>
<p>Each observation is placed into one of these categories, creating strata for each unique combination of observations. Assign these strata to the original (uncoarsened) data, and drop any observation whose stratum doesn’t contain at least one treated and one control unit. Then, add weights based on stratum size and analyze the data without further matching.</p>
</div>
<div id="steps-in-coarsened-exact-matching" class="section level3 hasAnchor" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Steps in Coarsened Exact Matching<a href="matching.html#steps-in-coarsened-exact-matching" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Coarsen the Data</strong>: Transform continuous or detailed categorical variables into coarser categories.</p>
<ul>
<li>Example: Age groups (0-10, 11-20, etc.) or education levels (less than high school, high school, etc.).</li>
</ul></li>
<li><p><strong>Create Strata</strong>: For each unique combination of the coarsened variables, create a stratum.</p>
<ul>
<li>Each observation is assigned to a stratum based on its coarsened characteristics.</li>
</ul></li>
<li><p><strong>Assign Weights</strong>: Calculate weights for each observation based on the stratum size.</p>
<ul>
<li>Observations in larger strata receive smaller weights and vice versa.</li>
</ul></li>
<li><p><strong>Drop Unmatched Observations</strong>: Remove any strata that do not contain both treated and control units.</p></li>
<li><p><strong>Weighted Regression</strong>: Use the weights in a regression analysis to account for the matching process.</p></li>
</ol>
</div>
<div id="considerations-1" class="section level3 hasAnchor" number="3.7.3">
<h3><span class="header-section-number">3.7.3</span> Considerations<a href="matching.html#considerations-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Balance</strong>: Coarsening can improve balance between treated and control groups but may result in some loss of information.</p></li>
<li><p><strong>Weight Calculation</strong>: Weights should reflect the relative sizes of the strata to ensure accurate representation in the analysis.</p></li>
<li><p><strong>Implementation</strong>: Ensure the coarsening process does not oversimplify the data, potentially masking important variations.</p></li>
</ul>
<p>By carefully coarsening the data and using appropriate weights, CEM allows for more accurate and reliable estimation of treatment effects, even when exact matching on the original variables is not feasible.</p>

</div>
</div>
<div id="ab-test-article-from-medium" class="section level2 hasAnchor" number="3.8">
<h2><span class="header-section-number">3.8</span> A/B Test article from Medium<a href="matching.html#ab-test-article-from-medium" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="example-conversion-rate-of-an-e-commerce-website" class="section level3 hasAnchor" number="3.8.1">
<h3><span class="header-section-number">3.8.1</span> Example: Conversion Rate of an E-Commerce Website<a href="matching.html#example-conversion-rate-of-an-e-commerce-website" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://towardsdatascience.com/required-sample-size-for-a-b-testing-6f6608dd330a">Article
Source</a></p>
<p>Suppose an e-commerce website wants to test if implementing a new feature (e.g., layout or button) will significantly improve conversion rate.</p>
<p><strong>conversion rate:</strong> number of purchases divided by number of sessions/visits</p>
<p>We can randomly show the new webpage to 50% of the users. Then, we have a test group and a control group. Once we have <strong>enough data points</strong>, we can test if the conversion rate in the treatment group is significantly higher (one side test) than that in the control group.</p>
<p>The null hypothesis is that conversion rates are not significantly different in the two group.</p>
<p><strong>Sample Size for Comparing Two Means</strong>.</p>
<p>One way to perform the test is to calculate daily conversion rates for both the treatment and the control groups.</p>
<p>Since the conversion rate in a group on a certain day represents a single data point, the sample size is actually the number of days.</p>
<p>Thus, we will be testing the difference between the mean of daily conversion rates in each group
across the testing period. The formula for estimate minimum sample size is as follows:</p>
<p><strong>Sample Size Estimate for A/B Test</strong></p>
<p>In an A/B test, the sample size (<span class="math inline">\(n\)</span>) required for each group can be estimated using the formula:</p>
<p><span class="math display">\[n = \frac{{2 \cdot (Z_{\alpha/2} + Z_{\beta})^2 \cdot \sigma^2}}{{\delta^2}}\]</span></p>
<p>where:
$ n : $
$ Z_{/2} : $
$ Z_{} : $
$ ^2 : $
$ : $</p>
<p>This formula helps in determining the sample size needed to achieve desired levels of significance and power in an A/B test.</p>
<p>For our example, let’s assume that the mean daily conversion rate for the past 6 months is 0.15 and the
sample standard deviation is 0.05.</p>
<p>With the new feature, we expect to see a 3% absolute increase in conversion rate. Thus, for the conversion rate for the treatment group will be 0.18. We also assume that the sample standard deviations are the same for the two group.</p>
<p>Our parameters are as follows.</p>
<p><span class="math inline">\(\mu_1 = 0.15\)</span>
<span class="math inline">\(\mu_2 = 0.18\)</span>
<span class="math inline">\(\sigma_1 = \sigma_2 = 0.05\)</span></p>
<p>Assuming <span class="math inline">\(\alpha = 0.05\)</span> and <span class="math inline">\(\beta = 0.20\)</span> (<span class="math inline">\(power = 0.80\)</span>), applying the formula, the required minimum sample size is 35 days.</p>
<p>This is consistent with the result from this web calculator.</p>
<p><strong>Sample Size for Comparing Two Proportions</strong></p>
<p>The two-means approach considers each day+group as a data point. But what if we focus on individual users and visits?</p>
<p>What if we want to know how many visits/sessions are required for the testing? In this case, the conversion rate for a group is basically all purchases divided by all sessions in that group. If each session is a Bernoulli trial (convert or not), each group follows a binomial distribution.</p>
<p>To test the difference in conversion rate between the treatment and control groups, we need a test of two proportions. The formula for estimating the minimum required sample size is as follows.</p>
<p><strong>Summary: Sample Size Estimate for Comparing Proportions</strong></p>
<p>When comparing proportions in two independent groups, the sample size (<span class="math inline">\(n\)</span>) required for each group can be estimated using the formula:</p>
<p><span class="math display">\[n = \frac{{2 \cdot (Z_{\alpha/2} + Z_{\beta})^2 \cdot (p(1-p))}}{{\delta^2}}\]</span></p>
<p>where:</p>
<p><span class="math inline">\(n : \text{ Sample size per group}\)</span><br />
<span class="math inline">\(Z_{\alpha/2} : \text{ Critical value for significance level}\)</span><br />
<span class="math inline">\(Z_{\beta} : \text{ Critical value for desired power}\)</span><br />
<span class="math inline">\(p : \text{ Expected proportion in one group}\)</span><br />
<span class="math inline">\(\delta : \text{ Minimum detectable difference in proportions}\)</span></p>
<p>This formula helps in determining the sample size needed to detect a specified difference in proportions between two groups with desired levels of significance and power.</p>
<p>Assuming 50–50 split, we have the following parameters:</p>
<p><span class="math inline">\(p_1 = 0.15\)</span>
<span class="math inline">\(p_2 = 0.18\)</span><br />
<span class="math inline">\(k = 1\)</span></p>
<p>Using <span class="math inline">\(\alpha = 0.05\)</span> and <span class="math inline">\(\beta = 0.20\)</span>, applying the formula, the required sample size is <span class="math inline">\(1,892\)</span> sessions per group.</p>

</div>
<div id="example-ab-test" class="section level3 hasAnchor" number="3.8.2">
<h3><span class="header-section-number">3.8.2</span> Example: A/B Test<a href="matching.html#example-ab-test" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A/B testing is an experiment where two or more variants are evaluated using statistical analysis to determine which variation performs better for a given conversion goal.</p>
<p>A/B testing is widely used by digital marketing agencies as it is the most effective method to determine the best content for converting visits into sign-ups and purchases.</p>
<p>In this scenario, you will set up hypothesis testing to advise a digital marketing agency on whether to adopt a new ad they designed for their client.</p>
<p>Assume you are hired by a digital marketing agency to conduct an A/B test on a new ad hosted on a website. Your task is to determine whether the new ad outperforms the existing one.</p>
<p>The agency has run an experiment where one group of users was shown the new ad design, while another group was shown the old ad design. The users’ interactions with the ads were observed, specifically whether they clicked on the ad or not.</p>
</div>
</div>
<div id="task-1-load-the-data" class="section level2 hasAnchor" number="3.9">
<h2><span class="header-section-number">3.9</span> Task 1: Load the data<a href="matching.html#task-1-load-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this task, we will import our libraries and then load our
dataset</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="matching.html#cb2-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching core tidyverse packages ────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.2     ✔ readr     2.1.4
## ✔ forcats   1.0.0     ✔ stringr   1.5.0
## ✔ ggplot2   3.4.4     ✔ tibble    3.2.1
## ✔ lubridate 1.9.3     ✔ tidyr     1.3.0
## ✔ purrr     1.0.1     
## ── Conflicts ──────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="matching.html#cb4-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb4-2"><a href="matching.html#cb4-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&#39;/Users/deayan/Desktop/GITHUB/10_Causal_Notes/__repo/data/AB_Test.xlsx&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="matching.html#cb5-1" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span></code></pre></div>
<pre><code>## Rows: 3,757
## Columns: 2
## $ group  &lt;chr&gt; &quot;experiment&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;cont…
## $ action &lt;chr&gt; &quot;view&quot;, &quot;view&quot;, &quot;view and click&quot;, &quot;view and click&quot;, &quot;view&quot;, &quot;vi…</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="matching.html#cb7-1" tabindex="-1"></a>df<span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="matching.html#cb7-2" tabindex="-1"></a>  <span class="fu">group_by</span>(group, action)<span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="matching.html#cb7-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb7-4"><a href="matching.html#cb7-4" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   group      action             n
##   &lt;chr&gt;      &lt;chr&gt;          &lt;int&gt;
## 1 control    view            1513
## 2 control    view and click   363
## 3 experiment view            1569
## 4 experiment view and click   312</code></pre>
</div>
<div id="task-2-set-up-hypothesis" class="section level2 hasAnchor" number="3.10">
<h2><span class="header-section-number">3.10</span> Task 2: Set up Hypothesis<a href="matching.html#task-2-set-up-hypothesis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>experiment group</strong>: the group that is involved in the new experiment . i.e the group that received the new ad .</p>
<p><strong>Control group</strong>:
the 2nd group that didn’t receive the new ad</p>
<p><strong>Click-through rate (CTR)</strong>:
the number of clicks advertisers receive on their ads per number of impressions.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="matching.html#cb9-1" tabindex="-1"></a><span class="fu">table</span>(df<span class="sc">$</span>group)</span></code></pre></div>
<pre><code>## 
##    control experiment 
##       1876       1881</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="matching.html#cb11-1" tabindex="-1"></a>df<span class="sc">%&gt;%</span><span class="fu">count</span>(group)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   group          n
##   &lt;chr&gt;      &lt;int&gt;
## 1 control     1876
## 2 experiment  1881</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="matching.html#cb13-1" tabindex="-1"></a><span class="fu">table</span>(df)</span></code></pre></div>
<pre><code>##             action
## group        view view and click
##   control    1513            363
##   experiment 1569            312</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="matching.html#cb15-1" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(df), <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##             action
## group             view view and click
##   control    0.8065032      0.1934968
##   experiment 0.8341308      0.1658692</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="matching.html#cb17-1" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="matching.html#cb17-2" tabindex="-1"></a>  <span class="fu">count</span>(group) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="matching.html#cb17-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##   group          n  prop
##   &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt;
## 1 control     1876 0.499
## 2 experiment  1881 0.501</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="matching.html#cb19-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="matching.html#cb19-2" tabindex="-1"></a>  <span class="fu">group_by</span>(group, action)<span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="matching.html#cb19-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="matching.html#cb19-4" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> action, <span class="at">values_from =</span> n, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">n =</span> <span class="dv">0</span>))</span>
<span id="cb19-5"><a href="matching.html#cb19-5" tabindex="-1"></a>  </span>
<span id="cb19-6"><a href="matching.html#cb19-6" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;group&quot;</span>, <span class="st">&quot;view&quot;</span>, <span class="st">&quot;view_click&quot;</span>)</span>
<span id="cb19-7"><a href="matching.html#cb19-7" tabindex="-1"></a></span>
<span id="cb19-8"><a href="matching.html#cb19-8" tabindex="-1"></a>x<span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="matching.html#cb19-9" tabindex="-1"></a>  <span class="fu">group_by</span>(group)<span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="matching.html#cb19-10" tabindex="-1"></a>  <span class="fu">transmute</span>(<span class="at">view1 =</span> view<span class="sc">/</span>(view<span class="sc">+</span>view_click),</span>
<span id="cb19-11"><a href="matching.html#cb19-11" tabindex="-1"></a>         <span class="at">view_click1 =</span> view_click<span class="sc">/</span>(view<span class="sc">+</span>view_click))</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
## # Groups:   group [2]
##   group      view1 view_click1
##   &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;
## 1 control    0.807       0.193
## 2 experiment 0.834       0.166</code></pre>
<p>The <strong>null hypothesis</strong> is what we assume to be true before we collect the data, and the <strong>alternative hypothesis</strong> is usually what we want to try and prove to be true.</p>
<p>So in our experiment than null hypothesis is assuming that the old ad is better than than new one.</p>
<p>Then we set the <strong>significance level</strong> <span class="math inline">\(\alpha\)</span>.</p>
<p>The <strong>significance level</strong> is the probability of rejecting the null hypothesis when it’s true. (Type I error rate)</p>
<p>For example, a significance level of 0.05 indicates a 5% risk of concluding that a difference exists when there is no actual difference.</p>
<p><strong>Lower significance</strong> levels indicate that you require stronger
evidence before you reject the null hypothesis.</p>
<p>So we will set our significance level to be 0.05. And if we reject the null hypothesis as a result of our experiment, then by having significant level of 0.05 then we are 95% confident that we can reject the null hypothesis.</p>
<p>So setting the significance level is about how confident you are while you reject the null hypothesis, the fourth step is calculating the corresponding P value.</p>
<p>The definition of <strong>P value</strong> is the probability of observing your statistic, if the null hypothesis is true. And then we will draw a conclusion whether to go for the new ad or not.</p>
<p><strong>Hypothesis Testing steps:</strong>
1) Specify the Null Hypothesis.<br />
2) Specify the Alternative Hypothesis.<br />
3) Set the Significance Level (a)<br />
4) Calculate the Corresponding P-Value.<br />
5) Drawing a Conclusion</p>
<p><strong>Our Hypothesis</strong></p>
<p>Hypothesis is that the click through rate associated with the new ad is less than that associated with the old ad, which means that the old ad is better than than new one.</p>
<p>And the alternative hypothesis will be the opposite.</p>
</div>
<div id="task-3-compute-the-difference-in-the-click-through-rate" class="section level2 hasAnchor" number="3.11">
<h2><span class="header-section-number">3.11</span> Task 3: Compute the difference in the click-through rate<a href="matching.html#task-3-compute-the-difference-in-the-click-through-rate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This task we will compute the difference in the click through rate between the control and experiment groups.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="matching.html#cb21-1" tabindex="-1"></a>control_df <span class="ot">&lt;-</span> df[df<span class="sc">$</span>group <span class="sc">==</span> <span class="st">&quot;control&quot;</span>, ]</span>
<span id="cb21-2"><a href="matching.html#cb21-2" tabindex="-1"></a>experiment_df <span class="ot">&lt;-</span> df[df<span class="sc">$</span>group <span class="sc">==</span> <span class="st">&quot;experiment&quot;</span>, ]</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="matching.html#cb22-1" tabindex="-1"></a>control_ctr <span class="ot">&lt;-</span> </span>
<span id="cb22-2"><a href="matching.html#cb22-2" tabindex="-1"></a>    <span class="fu">mean</span>(<span class="fu">ifelse</span>(control_df<span class="sc">$</span>action<span class="sc">==</span><span class="st">&quot;view and click&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb22-3"><a href="matching.html#cb22-3" tabindex="-1"></a></span>
<span id="cb22-4"><a href="matching.html#cb22-4" tabindex="-1"></a>experiment_ctr <span class="ot">&lt;-</span></span>
<span id="cb22-5"><a href="matching.html#cb22-5" tabindex="-1"></a>    <span class="fu">mean</span>(<span class="fu">ifelse</span>(experiment_df<span class="sc">$</span>action<span class="sc">==</span><span class="st">&quot;view and click&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb22-6"><a href="matching.html#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="matching.html#cb22-7" tabindex="-1"></a>diff <span class="ot">&lt;-</span> experiment_ctr <span class="sc">-</span> control_ctr</span>
<span id="cb22-8"><a href="matching.html#cb22-8" tabindex="-1"></a>diff</span></code></pre></div>
<pre><code>## [1] -0.02762758</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="potential-outcomes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="task-four-create-sample-distribution-using-bootsrapping.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Causal Methods.pdf", "Causal Methods.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
